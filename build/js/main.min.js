function paymentMethod(e){const t=document.querySelectorAll(".payment-method__item");e.addEventListener("change",e=>{e.target.closest(".payment-method__item")&&(t.forEach(e=>{e.classList.remove("active")}),e.target.closest(".payment-method__item").classList.add("active"))})}function paymentValidate(e){const t=e.querySelector('input[data-type="email"]'),r=e.querySelector(".payment-method"),s=e.querySelectorAll(".payment-method__item input");let o=!1;function a(e){const t=e.closest(".input").querySelector(".error-caption__text");if(e.value.trim()){const r=e.value.trim();return!/^\w+@\w+\.\w{2,}$/.test(r)&&(t.textContent="Некорректный email",!0)}return t.textContent="Введи email",!0}e.addEventListener("submit",e=>{let n=!0;s.forEach(e=>{e.checked&&(n=!1)}),o=!!n,o?(e.preventDefault(),r.classList.add("error"),setTimeout(()=>{r.classList.remove("error")},5e3)):(o=a(t),o&&(e.preventDefault(),t.closest(".input").classList.add("error"),setTimeout(()=>{t.closest(".input").classList.remove("error")},5e3)))}),e.addEventListener("change",e=>{e.target.name&&r.classList.remove("error")}),t.addEventListener("blur",()=>{o=a(t),o?(t.closest(".input").classList.add("error"),setTimeout(()=>{t.closest(".input").classList.remove("error")},5e3)):t.closest(".input").classList.remove("error")}),t.addEventListener("input",e=>{e.target.value=e.target.value.replace(/[^A-Z1-9@\-_.]/gi,"")})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("form");document.querySelector(".payment-method")&&(paymentMethod(e),paymentValidate(e))});
//# sourceMappingURL=maps/main.min.js.map
