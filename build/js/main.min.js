function paymentMethod(e){const t=document.querySelectorAll(".payment-method__item");e.addEventListener("change",e=>{e.target.closest(".payment-method__item")&&(t.forEach(e=>{e.classList.remove("active")}),e.target.closest(".payment-method__item").classList.add("active"))})}function paymentValidate(e){const t=e.querySelector('input[data-type="email"]'),r=e.querySelector(".payment-method"),s=e.querySelectorAll(".payment-method__item input");let a=!1;function o(e){const t=e.closest(".input").querySelector(".error-caption__text");if(e.value.trim()){const r=e.value.trim();return!/^\w+@\w+\.\w{2,}$/.test(r)&&(t.textContent="Некорректный email",!0)}return t.textContent="Введи email",!0}e.addEventListener("submit",e=>{let n=!0;s.forEach(e=>{e.checked&&(n=!1)}),a=n,a?(e.preventDefault(),r.classList.add("error"),setTimeout(()=>{r.classList.remove("error")},5e3)):(a=o(t),a&&(e.preventDefault(),t.closest(".input").classList.add("error"),setTimeout(()=>{t.closest(".input").classList.remove("error")},5e3)))}),e.addEventListener("change",e=>{e.target.name&&r.classList.remove("error")}),t.addEventListener("blur",()=>{a=o(t),a?(t.closest(".input").classList.add("error"),setTimeout(()=>{t.closest(".input").classList.remove("error")},5e3)):t.closest(".input").classList.remove("error")}),t.addEventListener("input",e=>{e.target.value=e.target.value.replace(/[^A-Z1-9@\-_.]/gi,"")})}document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".payment-form")){paymentValidate(document.querySelector("form"))}});
//# sourceMappingURL=maps/main.min.js.map
